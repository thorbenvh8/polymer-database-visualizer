<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="elements/database-visualizer-database.html">
<link rel="import" href="elements/database-visualizer-menu.html">
<link rel="import" href="../paper-fab/paper-fab.html">
<link rel="stylesheet" href="stylesheet.css">

<!--
An element providing a solution to no problem in particular.

Example:

    <database-visualizer></database-visualizer>

@demo
-->
<dom-module id="database-visualizer">

    <style>
        :host {

        }
    </style>

    <template>
        <paper-drawer-panel id="panel" responsive-width="3000px">
            <database-visualizer-menu schemas={{schemas}} applications="{{applications}}" setups="{{setups}}"
                                      drawer></database-visualizer-menu>
            <div main>
                <paper-fab class="menu" icon="icons:menu" on-tap="_openMenu" title="menu"></paper-fab>
                <database-visualizer-database database="{{database}}"></database-visualizer-database>
            </div>
        </paper-drawer-panel>
        <!-- <database-visualizer-menu></database-visualizer-menu> -->

    </template>

</dom-module>

<script>

    Polymer({

        is: 'database-visualizer',

        properties: {
            schemas: {
                type: Array,
                value: []
            },
            database: {
                type: Object,
                notify: true,
                value: function () {
                    return {};
                }
            }

        },
        _openMenu() {
            this.$.panel.togglePanel();
        },

        // Element Lifecycle
        ready: function () {
            // `ready` is called after all elements have been configured, but
            // propagates bottom-up. This element's children are ready, but parents
            // are not.
            //
            // This is the point where you should make modifications to the DOM (when
            // necessary), or kick off any processes the element wants to perform.
        },

        attached: function () {
            // `attached` fires once the element and its parents have been inserted
            // into a document.
            //
            // This is a good place to perform any work related to your element's
            // visual state or active behavior (measuring sizes, beginning animations,
            // loading resources, etc).
        },


        detached: function () {
            // The analog to `attached`, `detached` fires when the element has been
            // removed from a document.
            //
            // Use this to clean up anything you did in `attached`.
        }

    });

</script>