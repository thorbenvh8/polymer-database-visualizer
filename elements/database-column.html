<!DOCTYPE html>
<html>
<head>

    <!-- Element Imports -->
</head>

<dom-module id="database-column">
    <style>
        /* CSS rules for your element */
    </style>
    <template>
        <div>{{column.keyType}}</div>
        <div>{{convertToNullableString(column.nullable)}}</div>
        <div>{{column.name}}</div>
        <div>{{column.type}}</div>
        <div>{{column.defaultValue}}</div>
    </template>
</dom-module>
<script>
    Polymer({
        is: "database-column",
        properties: {
            schemaname: String,
            tablename: String,
            column: {
                type: Object,
                notify: true,
                value: function() {
                    return {
                        name: "column1"
                    };
                }
            },
            table: {
                type: Object,
                notify: true,
                value: function() {
                    return {};
                }
            }
        },

        convertToNullableString(b) {
            return b ? "" : "*";
        },

        getScale() {
            return this.table.getScale();
        },

        getPosition() {
            var pos = $(this).position();
            return {
                top: pos.top / this.getScale(),
                left: pos.left / this.getScale()
            }
        },

        ready: function() {

        },

        attached: function() {
            this.table = $(this).parent().parent('#'+this.schemaname+"_"+this.tablename)[0];
            this.table.registerColumn(this);
        }
    });
</script>
</html>
